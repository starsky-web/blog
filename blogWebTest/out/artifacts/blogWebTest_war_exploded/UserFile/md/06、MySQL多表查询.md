# 5、MySQL多表查询

------



# 1、概述

取出的是笛卡尔积，两张表中所有数据组合情况

# 2、分类

## 2.1、内连接

需要明确以下内容：

1. 从哪些表中查
2. 条件是什么
3. 查询哪些字段

### 2.1.1、隐式内连接

使用where条件消除无用数据

```sql
select * from 表1,表2 where 表1.字段1 = 表2.字段2;-- 两表字段相同的数据才有效
```

使用别名

```sql
select t1.字段1,t2.字段2 from 表1 t1，表2 t2 where t1.字段 = t2.字段
-- from语句中设置别名，表1位t1，表2为t2
```



### 2.1.2、显式内连接

**语法**

```sql
select 字段列表 from 表名1 inner join 表名2 on 条件
```

inner可以省略



## 2.2、外连接

### 2.2.1、左外连接

**语法**：

```sql
select 字段列表 from 表1 left outer join 表2 on 条件
```

outer可以省

查询的是左表所有数据以及交集部分

### 2.2.2、右外连接

```sql
select 字段列表 from 表1 right outer join 表2 on 条件
```

outer可省

查询的是右表所有数据和交集部分

## 2.3、子查询

### 2.3.1、概念

查询中嵌套查询，称嵌套查询为子查询

**示例**：

如第二个查询的条件是第一个查询的结果，可使用子查询

```sql
select MAX(salary) from emp;-- 从emp表查salary的最大值，这里假设结果是9000
select * from emp where emp.salary = 9000;-- 用上一条的结果来查询对应的所有信息

-- 上面两段等效于下面的子查询
select * from emp where emp.salary = (select MAX(salary) from emp);-- 即将一个查询作为条件使用
```

### 2.3.2、子查询的不同情况

#### 2.3.2.1、单行单列

子查询作为条件，使用运算符判断

#### 2.3.2.2、多行单列

子查询可以作为条件，使用运算符in进行判断（即有多种情况）

#### 2.3.2.3、多行多列

子查询可以作为一张虚拟表参与查询

