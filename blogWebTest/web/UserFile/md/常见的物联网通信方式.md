常见的物联网通信方式 
legahero 谢 QQ:1395449850
一、前言 &nbsp;&nbsp;&nbsp;&nbsp;
　　早期的物联网是指两个或多个设备之间在近距离内的数据传输，解决物物相连，早期多采用有线方式，比如RS323、RS485，考虑设备的位置可随意移动的方便性（有根线太丑了），后期更多的使用无线方式；
　　&nbsp;随着时代进步和发展，社会逐步进入互联网+，各类传感器采集数据越来越丰富，大数据应用随之而来，人们考虑把各类设备直接纳入互联网以方便数据采集、管理以及分析计算。简而言之，物联网智能化已经不再局限于小型设备、小网络阶段，而是进入到完整的智能工业化领域，智能物联网化在大数据、云计算、虚拟现实上步入成熟，并纳入互联网+整个大生态环境。
二、物联网的发展 
　　最早的物联网只是简单把两个设备用信号线连接在一起：
&nbsp;<img style="display: block; margin-left: auto; margin-right: auto" src="https://images2015.cnblogs.com/blog/36838/201611/36838-20161101190330533-427995067.jpg" alt="">
&nbsp;
　　后来使用了无线，也出现了简单的组网：
<img style="display: block; margin-left: auto; margin-right: auto" src="https://images2015.cnblogs.com/blog/36838/201611/36838-20161101190417408-2116190370.jpg" alt="">
&nbsp;
　　在互联网+时代，越来越多的传感器、设备接入互联网，互联网也不单是通过网线传输，引入了空中网、卫星网等，应用的领域也越来越广泛：
<img style="display: block; margin-left: auto; margin-right: auto" src="https://images2015.cnblogs.com/blog/36838/201611/36838-20161101190437174-892198454.jpg" alt="">
&nbsp;
三、常见的物联网通信方式 
　　笔者对常用的物联网通信方式进行归纳总结分为四大种类，见下图：
<img src="https://images2015.cnblogs.com/blog/36838/201705/36838-20170504190924007-953848642.jpg" alt="">
&nbsp;
**1.有线传输 **
　　设备之间用物理线直接相连，不是很方便。主要有电线载波或载频、同轴线、开关量信号线、RS232串口、RS485、USB，这里只对常用的RS232串口、RS485、USB做介绍。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; **RS232串口**：串行通信接口，全名是“数据终端设备（DTE）和数据通讯设备（DCE）之间 串行二进制数据交换接口技术标准”，是电脑与其它设备传送信息的一种标准接口；该标准规定采用一个25个脚的 DB25连接器，对连接器的每个引脚的信号内容加以规定，还对各种信 号的电平加以规定；RS-232属单端信号传送，存在共地噪声和不能抑制共模干扰等问题，因此一般用于20m以内的通信，常用的串口线一般只有1~2米。见图：
<img style="display: block; margin-left: auto; margin-right: auto" src="https://images2015.cnblogs.com/blog/36838/201611/36838-20161101190546393-480863344.jpg" alt="">&nbsp;&nbsp;
** 　　RS-485总线：**在要求通信距离为几十米到上千米时或者有多设备联网需求时，RS232无法满足，因此诞生了RS-485 串行总线标准。RS-485采用平衡发送和差分接收，具有抑制共模干扰的能力,加上总线收发器具有高灵敏度，能检测低至200mV的电压，使得传输信号能在千米以外得到恢复，RS-485采用半双工工作方式，可以联网构成分布式系统，用于多点互连时非常方便，可以省掉许多信号线，允许最多并联32台驱动器和32台接收器。 &nbsp;&nbsp;
** 　　USB：**通用串行总线，是一个外部总线标准，支持设备的即插即用和热插拔功能,具有传输速度快、使用方便、连接灵活，独立供电等优点。USB用一个4针（USB3.0标准为9针）插头作为标准插头，采用菊花链形式可以把所有的外设连接起来，最多可以连接127个外部设备，并且不会损失带宽。可连接键盘、鼠标、打印机、扫描仪、摄像头、充电器、闪存盘、、移动硬盘、外置光驱/软驱、USB网卡、ADSL Modem、Cable Modem 、MP3机、手机、数码相机等几乎所有的外部设备。已成功替代串口和并口，并成为个人电脑、智能设备的必配接口之一。
<img style="display: block; margin-left: auto; margin-right: auto" src="https://images2015.cnblogs.com/blog/36838/201611/36838-20161101190845502-572448742.jpg" alt="">
&nbsp;
**2、近距离无线传输 **
　　设备之间用无线信号传输信息。主要有无线RF433/315M、蓝牙、Zigbee、Z-ware、IPv6/6Lowpan。
　　 **RF433/315M：**无线收发模组，采用射频技术，工作在ISM频段（433/315MHz），一般包含发射器和接收器，频率稳定度高，谐波抑制性好，数据传输率1K～128Kbps，采用GFSK的调制方式具有超强的抗干扰能力。应用范围： （1）无线抄表系统 （2）无线路灯控制系统（3）铁路通信（4）航模无线遥控（5）无线安防报警（6）家居电器控制 （7）工业无线数据采集（8）无线数据传输。低功耗的RF433可在2.1-3.6V电压范围内工作，在1SEC周期轮询唤醒省电模式(Polling&nbsp;mode)下，接收仅仅消耗不到20uA，一节3.6V/3.6A的锂亚电池可工作10年以上。
　　**蓝牙（Bluetooth）：**使用2.4—2.485GHz的ISM波段的UHF无线电波、基于数据包、有着主从架构的一种无线技术标准，可实现固定设备、移动设备和楼宇个人域网之间的短距离数据交换。由蓝牙技术联盟（SIG）管理，IEEE将蓝牙技术列为IEEE 802.15.1，但如今已不再维持该标准，蓝牙技术拥有一套专利网络，可发放给符合标准的设备。蓝牙使用跳频技术，将传输的数据分割成数据包，通过79个指定的蓝牙频道分别传输数据包。每个频道的频宽为1 MHz。蓝牙4.0使用2 MHz 间距，可容纳40个频道。质量好的无线蓝牙耳机电池可以使用时间一般是2-3年，通常是数周。
　　**Zigbee：**是基于IEEE802.15.4标准的低速、短距离、低功耗、双向无线通信技术的局域网通信协议，又称紫蜂协议。特点是近距离、低复杂度、自组织（自配置、自修复、自管理）、低功耗、低数据速率。ZigBee协议从下到上分别为物理层(PHY)、媒体访问控制层(MAC)、传输层(TL)、网络层(NWK)、应用层(APL)等，其中物理层和媒体访问控制层遵循IEEE 802.15.4标准的规定，主要用于传感控制应用(Sensor and Control)。可工作在2.4GHz(全球流行)、868MHz(欧洲流行)和915 MHz(美国流行)3个频段上,分别具有最高250kbit/s、20kbit/s和40kbit/s的传输速率，单点传输距离在10-75m的范围内, ZigBee是可由一个到65535个无线数传模块组成的一个无线数传网络平台，在整个网络范围内，每一个ZigBee网络数传模块之间可以相互通信，从标准的75m距离进行无限扩展。ZigBee 节点非常省电，其电池工作时间可以长达6 个月到2 年左右，在休眠模式下可达10 年，下图是Zigbee的组网图（该图来源于网上）：
<img style="display: block; margin-left: auto; margin-right: auto" src="https://images2015.cnblogs.com/blog/36838/201611/36838-20161101190828127-641035952.jpg" alt="">
　　 **Z-Wave：**是由丹麦公司Zensys所一手主导的基于射频的、低成本、低功耗、高可靠、适于网络的短距离无线通信技术，工作频带为908.42MHz(美国)~868.42MHz(欧洲)，采用FSK(BFSK/GFSK)调制方式，数据传输速率为9.6 kb~ 40kb/s，信号的有效覆盖范围在室内是30m，室外可超过100m，适合于窄宽带应用场合。Z-Wave采用了动态路由技术，每一个Z-Wave网络都拥有自己独立的网络地址(HomeID);网络内每个节点的地址(NodeID)，由控制节点(Controller)分配。每个网络最多容纳232个节点(Slave)，包括控制节点在内。Zensys提供Windows开发用的动态库(Dynamically Linked Library, DLL)，开发者该DLL内的API函数来进行PC软件设计。通过Z-Wave技术构建的无线网络，不仅可以通过本网络设备实现对家电的遥控，甚至可以通过Internet网络对Z-Wave网络中的设备进行控制。
　　 **IPv6/6Lowpan：**基于IPv6的低速无线个域网标准，即IPv6 over IEEE 802.15.4。IEEE 802.15.4标准设计用于开发可以靠电池运行1到5年的紧凑型低功率廉价嵌入式设备(如传感器)。该标准使用工作在2.4GHz频段的无线电收发器传送信息，使用的频带与Wi-Fi相同，但其射频发射功率大约只有Wi-Fi的1%。6LoWPAN的出现使各类低功率无线设备能够加入IP家庭中，与Wi-Fi、以太网以及其他类型的设备并网；IETF 6LoWPAN技术具有无线低功耗、自组织网络的特点，是物联网感知层、无线传感器网络的重要技术，ZigBee新一代智能电网标准中SEP2.0已经采用6LoWPAN技术，随着美国智能电网的部署，6LoWPAN将成为事实标准，全面替代ZigBee标准。
&nbsp; &nbsp; &nbsp;&nbsp;**LoRa****：易于建设和部署的低功耗广域物联技术，**使用线性调频扩频调制技术，即保持了像FSK（频移键控）调制相同的低功耗特性，又明显地增加了通信距离，同时提高了网络效率并消除了干扰，即不同扩频序列的终端即使使用相同的频率同时发送也不会相互干扰，因此在此基础上研发的集中器/网关（Concentrator/Gateway）能够并行接收并处理多个节点的数据，大大扩展了系统容量。主要在全球免费频段运行（即非授权频段），包括433、868、915 MHz等。LoRa网络主要由终端（内置LoRa模块）、网关（或称基站）、服务器和云四部分组成，应用数据可双向传输，传输距离可达15到20公里。
**3.传统互联网 **
　　互联网发展到现在，基本上所有的软件系统都运行在互联网基础上，人们从互联网上获取各类数据，进行交流沟通、工作，基本上所有人都知道互联网，这里只做简单描述。 &nbsp;&nbsp;
　　** WIFI：**基于IEEE 802.11标准的无线局域网，可以看作是有线局域网的短距离无线延伸。组建WIFI只需要一个无线AP或是无线路由器就可以，成本较低。&nbsp;&nbsp;
　　**以太网：**包括标准的以太网（10Mbit/s)、快速以太网（100Mbit/s）和10G（10Gbit/s）以太网。它们都符合IEEE802.3，IEEE802.3规定了包括物理层的连线、电信号和介质访问层协议的内容。 &nbsp;
<img src="https://images2015.cnblogs.com/blog/36838/201611/36838-20161101191217924-710731277.jpg" alt="">
&nbsp;
**4、移动空中网 **
　　移动无线通信技术发展到现在，移动终端直接接入到互联网世界，随着通信资费下降以及3G/4G无线模块成本下降，由于3G/4G可以很方便直接与互联网通信，越来越多的设备采用移动网技术。
GPRS（General Packet Radio Service）是通用分组无线服务技术的简称，它是GSM移动电话用户可用的一种移动数据业务，属于第二代移动通信中的数据传输技术，介于2G和3G之间的技术，也被称为2.5G，可说是GSM的延续。GPRS以封包（Packet）式来传输，传输速率可提升至56~114Kbps。
** 3G/4G:** 第三和第四代移动通信技术，4G是集3G与WLAN于一体，能够快速高质量地传输数据、图像、音频、视频等。4G可以在有线网没有覆盖的地方部署，能够以100Mbps以上的速度下载，能够满足几乎所有用户对于无线服务的要求，具有不可比拟的优越性。4G移动系统网络结构可分为三层：物理网络层、中间环境层、应用网络层。
NB-IoT（基于蜂窝的窄带物联网（Narrow Band Internet of Things, NB-IoT））构建于蜂窝网络，只消耗大约180KHz的带宽，可直接部署于GSM网络、UMTS网络或LTE网络，支持低功耗设备在广域网的蜂窝数据连接，也被叫作低功耗广域网(LPWA)。NB-IoT支持待机时间长、对网络连接要求较高设备的高效连接。据说NB-IoT设备电池寿命可以提高至至少10年，同时还能提供非常全面的室内蜂窝数据连接覆盖。