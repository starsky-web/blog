以太网接入型设备，一般分为网线或WiFi两种。不管是WiFi还是网线，可以通过局域网抓包、笔记本WiFi桥接抓包等等手段。<br>最著名的抓包软件 Wireshark<br>如何抓取硬件设备的网络数据包，考量的是网络知识基本功，需要大家自行度娘！<br><br><br>基本准备工作：<br>1，Wireshark监听udp的53端口，一部分硬件设备会使用域名，连接服务器之前，需要首先进行域名解析，走的就是udp53端口，也有极少数可能走tcp53<br>2，通过桥接等手段，让硬件设备的任何数据包必须经过本机，Wireshark不设过滤器，通过抓到的数据包找到相关信息<br>3，什么工具都不用，去路由器管理界面查看DHCP、DNS、HTTP等相关记录<br><br><br>下面是常见的物联网系统安全评估手段（！！！请大家不要干坏事，我将不承担任何后果！！！）<br><br><br>**一、DDOS攻击**<br>无论如何，抓包一定可以得到服务器地址和端口，绝大部分只有一个，极少数设备会使用一个验证，一个通信。<br>然后就可以多种手段去虐这台服务器，单台服务器，一般只需要三五台高性能高带宽计算机，就可以实现局部或全部堵塞。<br>基于安全评估需要，超级码神工具的网络调试工具，可以开启1万到5万连接，连续发送亿万数据包。<br>超级码神工具XCoder（下载&amp;攻略）<br><a href="http://www.newlifex.com/showtopic-260.aspx" target="_blank">http://www.newlifex.com/showtopic-260.aspx</a><br><br>DDOS攻击最简单产生效果，因为一般设备都会固定死服务器地址，只要源源不断的建立连接发送数据，很快就可以耗尽服务器资源。<br>并且绝大部分物联网云平台非常脆弱，在此非法数据攻击之下，可以靠近CPU、内存、带宽，并产生大量错误日志消耗硬盘资源。<br>所有固定指向该服务器的硬件设备，将全部无法使用网络功能。<br><br>**预防方法：紧抓云平台安全性，动态分配设备所连接服务器。**<br><br><br><br>**二、重放攻击RelayAttach**<br>反复给设备上电断电，观察数据包变化情况。<br>如果多次上电断电得到的数据包相同，那么就完全具备了重放攻击的条件。<br>那么只需要把这个数据包内容按照十六进制字符复制下来，然后借助工具向服务器相应端口快速发送海量请求。<br>基于安全评估需要，超级码神工具提供该功能。<br><br><br>重放攻击最大优势是不怕一切防火墙，因为发过去的数据包都是合法数据包，防火墙必须放行！<br><br><br>**预防方法：通信协议必须支持序号或随机数，相同指令重复发送必须确保数据包内容不同。**<br>新生命标准网络协议支持预防重放攻击。<br>新生命团队标准网络封包协议<br><a href="http://www.newlifex.com/showtopic-1550.aspx" target="_blank">http://www.newlifex.com/showtopic-1550.aspx</a><br><br><br><br>**三、业务数据干扰**<br>一般硬件跟服务端通信指令分为三种：登录验证、心跳、业务数据传输。<br>目前国内小公司生产的联网设备，约有90%根本没有登录验证，这就为业务数据干扰攻击提供了可能。<br>这些小公司几乎没有互联网系统开发经验，大多数从串口设备控制转化而来，熟悉Modbus（没有验证），直接进行业务数据透传，根本没有验证和心跳。<br>更多的公司没有能力去做联网通信模块，直接采购其它小公司的联网模块，最多的就是串口透传模块。<br>而模块提供商为了降低模块使用复杂度以及提升兼容性，更不会去做验证。<br><br><br>抓包发现，如果多个数据包格式完全一样，只有局部数据变化，很有可能就是直接透传的数据。<br>这个时候，安全评估人员不仅可以解码得到设备出来的数据，还可以伪造数据发给服务端。<br><br><br>预防方法：通信协议必须加密，并且有严格的身份验证，云平台需要能够验证请求方是否合法设备。<br><br><br>**四、WiFi攻击**<br>最近两年WiFi在智能硬件中的应用非常流行。<br>一般WiFi模块有3种用法：<br>1，模块自身带有一些IO口，可以实现简单的开关控制。模块厂商会开放控制协议。<br>2，串口透传，单片机发给模块的任何数据，模块都会发给对应的云平台，云平台下发的数据也可以通过串口收到<br>3，SoC片上开发，自定义协议<br>很显然，1和2简单易用，但正是这个原因，通信协议根本没有加密，也没有设备的身份验证。<br>目前在市场上99%模块都是这样，比如最流行的ESP8266。<br>至今为止，尚未见到过做了安全处理的WiFi模块。<br><br><br>**五、Zigbee攻击**<br>Zigbee宣称很安全，但是进入国内以后，所有厂商基于商业壁垒需要，都会修改Zigbee协议，或者加上不同的密码。<br>Zigbee模块跟WiFi模块类似，1和2同样非常容易攻击。<br>不管Zigbee协议是多么的安全，同一家模块厂商生产的Zigbee模块通信密码都是完全一样的，除非客户特别要求。<br>也就是说，如果安全评估人员想攻击Zigbee设备或Zigbee网关，只需要去同一个Zigbee模块厂家购买一个模块即可。<br><br><br>**六、RF射频攻击**<br>RF设备一般工作在433M/315M，作为第一代智能家居核心无线技术，它只能传输几个数据位，根本没有加密，也根本没有能力加密。<br>常见攻击方法是设计一块在该频段的接收设备，监听无线空间的控制信号，只需要重发即可达到同样的控制效果<br><br><br>**预防方法：小车钥匙用轮询码解决了该问题**<br><br><br>End.